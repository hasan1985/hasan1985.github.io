<script>
function loadscript(src) {
	return new Promise((resolve, reject) => {
		let script = document.createElement("script");
		script.src = src;
		script.onLoad = () => resolve(script);
		script.onError = () => reject(new Error("error));

		document.head.append(script);
	});
}

let loadpromise = loadscript("console.log('load')");
loadpromise.then(() => {
	console.log("loaded");	
});

</script>