<script type="text/javascript">
function loadScript(src, callback) {
	let ele = document.createElement("script");
	ele.src = src;
	ele.onload = () => callback(null, ele);
	ele.onerror = () => callback(new Error("unable to load"));
	document.head.append(ele);
}

function promsified(src) {
	return new Promise((resolve, reject) => {
		loadScript(src, (err, ele) => {
			if (!err) {
				resolve(["msg", ele]);
			} else {
				reject(err);
			}
		});
	})
}

promsified("https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.js")
		.then((data) => console.log(data[0], data[1]))
		.catch((err) => console.log(err));
</script>
